# ELT Project with dbt

–¢–æ–≤–∞ –µ ELT (Extract, Load, Transform) –ø—Ä–æ–µ–∫—Ç, –ø–æ—Å—Ç—Ä–æ–µ–Ω —Å dbt (data build tool) –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–∞ –¥–∞–Ω–Ω–∏ –∑–∞ –ø—Ä–æ–¥–∞–∂–±–∏.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ELT_project/
‚îú‚îÄ‚îÄ dbt_project.yml          # –û—Å–Ω–æ–≤–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞ dbt –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ models/
‚îÇ       ‚îú‚îÄ‚îÄ staging/         # Staging —Å–ª–æ–π - –ø–æ—á–∏—Å—Ç–≤–∞–Ω–µ –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ customers_raw_table.sql
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ sales_north_raw_table.sql
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ staging_checks.yml
‚îÇ       ‚îÇ   
‚îÇ       ‚îú‚îÄ‚îÄ marts/           # Marts —Å–ª–æ–π - –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ dim_customers.sql
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ fact_sales_north.sql
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ marts_checks.yml
‚îÇ       ‚îî‚îÄ‚îÄ aggregated/      # –ê–≥—Ä–µ–≥–∏—Ä–∞–Ω–∏ –¥–∞–Ω–Ω–∏
‚îÇ           ‚îú‚îÄ‚îÄ sales_by_region.sql
‚îÇ           ‚îî‚îÄ‚îÄ sales_summary_brand_day.sql
            ‚îú‚îÄ‚îÄ aggregated_checks.yml
‚îú‚îÄ‚îÄ macros/                  # –ü—Ä–µ–∏–∑–ø–æ–ª–∑–≤–∞–µ–º–∏ SQL –º–∞–∫—Ä–æ—Å–∏
‚îÇ   ‚îú‚îÄ‚îÄ create_csv_file_format.sql
‚îÇ   ‚îú‚îÄ‚îÄ create_json_format.sql
‚îÇ   ‚îú‚îÄ‚îÄ load_product_metadata_raw.sql
‚îÇ   ‚îú‚îÄ‚îÄ load_sales_north_raw.sql
‚îÇ   
‚îú‚îÄ‚îÄ seeds/                   
‚îú‚îÄ‚îÄ snapshots/             
‚îî‚îÄ‚îÄ target/                 
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ

### üîß Staging Layer
–ü–æ—á–∏—Å—Ç–≤–∞–Ω–µ –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è –Ω–∞ raw –¥–∞–Ω–Ω–∏—Ç–µ:
- **customers_raw_table**: –û—Å–Ω–æ–≤–Ω–∏ –¥–∞–Ω–Ω–∏ –∑–∞ –∫–ª–∏–µ–Ω—Ç–∏ –∏ –ø—Ä–æ–¥—É–∫—Ç–∏
- **sales_north_raw_table**: Raw –¥–∞–Ω–Ω–∏ –∑–∞ –ø—Ä–æ–¥–∞–∂–±–∏ –æ—Ç —Å–µ–≤–µ—Ä–Ω–∏—è —Ä–µ–≥–∏–æ–Ω

### üè™ Marts Layer
–ë–∏–∑–Ω–µ—Å –≥–æ—Ç–æ–≤–∏ —Ç–∞–±–ª–∏—Ü–∏:
- **dim_customers**: Dimension —Ç–∞–±–ª–∏—Ü–∞ —Å –∫–ª–∏–µ–Ω—Ç—Å–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **fact_sales_north**: Fact —Ç–∞–±–ª–∏—Ü–∞ —Å –ø—Ä–æ–¥–∞–∂–±–∏—Ç–µ –æ—Ç —Å–µ–≤–µ—Ä–Ω–∏—è —Ä–µ–≥–∏–æ–Ω

### üìä Aggregated Layer
–ê–≥—Ä–µ–≥–∏—Ä–∞–Ω–∏ –∞–Ω–∞–ª–∏–∑–∏:
- **sales_by_region**: –ü—Ä–æ–¥–∞–∂–±–∏ –ø–æ —Ä–µ–≥–∏–æ–Ω –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- **sales_summary_brand_day**: –û–±–æ–±—â–µ–Ω–∏–µ –Ω–∞ –ø—Ä–æ–¥–∞–∂–±–∏—Ç–µ –ø–æ –±—Ä–∞–Ω–¥–æ–≤–µ –∏ –¥–Ω–∏

## –°—Ö–µ–º–∏ –≤ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏

- **STAGING**: –°—ä–¥—ä—Ä–∂–∞ staging –º–æ–¥–µ–ª–∏ –∑–∞ –ø–æ—á–∏—Å—Ç–≤–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ
- **TRANSFORMED**: –°—ä–¥—ä—Ä–∂–∞ marts –∏ aggregated –º–æ–¥–µ–ª–∏ –∑–∞ –∞–Ω–∞–ª–∏–∑–∏
- **AGGREGATED**: –°—ä–¥—ä—Ä–∂–∞ –≤–∏—Å–æ–∫–æ –∞–≥—Ä–µ–≥–∏—Ä–∞–Ω–∏ –¥–∞–Ω–Ω–∏

## –ú–∞–∫—Ä–æ—Å–∏

- **load_sales_north_raw()**: –ó–∞—Ä–µ–∂–¥–∞ –¥–∞–Ω–Ω–∏ –æ—Ç S3 –≤ sales_north_raw —Ç–∞–±–ª–∏—Ü–∞
- **load_product_metadata_raw()**: –ó–∞—Ä–µ–∂–¥–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω–∏ –∑–∞ –ø—Ä–æ–¥—É–∫—Ç–∏—Ç–µ
- **create_csv_file_format()**: –°—ä–∑–¥–∞–≤–∞ CSV —Ñ–æ—Ä–º–∞—Ç –∑–∞ —Ñ–∞–π–ª–æ–≤–µ—Ç–µ
- **create_json_format()**: –°—ä–∑–¥–∞–≤–∞ JSON —Ñ–æ—Ä–º–∞—Ç

## Data Quality —Ç–µ—Å—Ç–æ–≤–µ

–ü—Ä–æ–µ–∫—Ç—ä—Ç –≤–∫–ª—é—á–≤–∞ comprehensive data quality –ø—Ä–æ–≤–µ—Ä–∫–∏:

### Staging —Ç–µ—Å—Ç–æ–≤–µ
- –£–Ω–∏–∫–∞–ª–Ω–æ—Å—Ç –Ω–∞ primary keys
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞ NULL —Å—Ç–æ–π–Ω–æ—Å—Ç–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫—Ä–∏—Ç–∏—á–Ω–∏ –ø–æ–ª–µ—Ç–∞

### Marts —Ç–µ—Å—Ç–æ–≤–µ
- –†–µ—Ñ–µ—Ä–µ–Ω—Ç–Ω–∞ —Ü—è–ª–æ—Å—Ç –º–µ–∂–¥—É fact –∏ dimension —Ç–∞–±–ª–∏—Ü–∏
- –ë–∏–∑–Ω–µ—Å –ø—Ä–∞–≤–∏–ª–∞ –∑–∞ –ø—Ä–æ–¥–∞–∂–±–∏—Ç–µ (–ø–æ–∑–∏—Ç–∏–≤–Ω–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏)
- –ö–∞—á–µ—Å—Ç–≤–æ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ –∑–∞ –±—Ä–∞–Ω–¥–æ–≤–µ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

## –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –ü—Ä–µ–¥–ø–æ—Å—Ç–∞–≤–∫–∏
```bash
pip install dbt-snowflake
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `~/.dbt/profiles.yml` —Å –≤–∞—à–∏—Ç–µ Snowflake credentials
2. –û–±–Ω–æ–≤–µ—Ç–µ dbt_project.yml —Å–ø–æ—Ä–µ–¥ –≤–∞—à–∞—Ç–∞ —Å—Ä–µ–¥–∞

### –ö–æ–º–∞–Ω–¥–∏
```bash
# –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–µ –Ω–∞ dependencies
dbt deps

# –ò–∑–ø—ä–ª–Ω–µ–Ω–∏–µ –Ω–∞ –≤—Å–∏—á–∫–∏ –º–æ–¥–µ–ª–∏
dbt run

# –ò–∑–ø—ä–ª–Ω–µ–Ω–∏–µ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–µ—Ç–µ
dbt test

# –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
dbt docs generate
dbt docs serve
```

### –ü–æ–µ—Ç–∞–ø–Ω–æ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ
```bash
# –°–∞–º–æ staging –º–æ–¥–µ–ª–∏
dbt run --select staging

# –°–∞–º–æ marts –º–æ–¥–µ–ª–∏
dbt run --select marts

# –°–∞–º–æ –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω –º–æ–¥–µ–ª
dbt run --select fact_sales_north
```

## –ò–∑–ø–æ–ª–∑–≤–∞–Ω–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **dbt**: Data transformation framework
- **Snowflake**: Cloud data warehouse
- **SQL**: –ó–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ
- **YAML**: –ó–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–æ–≤–µ

## –ê–≤—Ç–æ—Ä

–ü—Ä–æ–µ–∫—Ç –∑–∞ –æ–±—É—á–µ–Ω–∏–µ –ø–æ ELT –ø—Ä–æ—Ü–µ—Å–∏ –∏ data engineering —Å dbt.
